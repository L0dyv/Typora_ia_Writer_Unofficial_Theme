@import 'night/codeblock.dark.css';
@import 'night/mermaid.dark.css';
@import 'night/sourcemode.dark.css';
@import 'ia_typora.css';

:root {
  /* 暗色主题颜色变量 */
  --accented-background-color: #1e1e1e;
  --light-header-color: #dbdbdb;
  --select-text-bg-color: #186a9a;
  --background-color: #101010;
  --font-color: #808e95;
  --header-color: #bebebe;
  --border-color: #232629;
  --link-color: #5584aa;
  --code-bg-color: #1c1a1a;
  --hover-bg-color: #050505;

  /* 继承日间模式结构 */
  --control-text-color: var(--font-color);
  --side-bar-bg-color: var(--accented-background-color);
  --document-horizontal-margin: 80px;
  --chinese-font-size: 16px;
  --h1-fontsize: 20px;
  --h2-fontsize: 18px;
  --h3-fontsize: 16px;
  --h4-fontsize: 15px;
  --line-height: 1.6;
  --monospace-font-size: 14px;
  --monospace-line-height: 1.6;
  --border-radius: 2px;

  /* 统一字体配置 */
  --body-font: 'iA Writer Duo S', 'TsangerJinkai04 W03', 'Noto Serif SC', 'Helvetica', '微软雅黑', -apple-system, BlinkMacSystemFont, "Segoe UI", "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  --monospace-font: 'iA Writer Duo S', monospace;
}

/* 暗色模式特有样式 */
.outline-item:hover {
  background-color: var(--hover-bg-color);
}

#write {
  cursor: -webkit-image-set(url("night/cursor.png") 1x, url("night/cursor@2x.png") 2x) 8 8, auto;
}

h1,
h2,
h3 {
  color: var(--light-header-color);
}

table tr:nth-child(2n),
thead {
  background-color: #141313;
}

/* 保留所有日间模式的布局规则 */
#write {
  max-width: 80%;
  margin: 0 auto;
  padding-left: 180px;
  padding-right: 180px;
}

@media screen and (max-width: 1280px) {
  #write {
    padding-left: 80px;
    padding-right: 80px;
  }
}

@media screen and (max-width: 1024px) {
  #write {
    max-width: 90%;
    padding-left: 60px;
    padding-right: 60px;
  }
}

@media screen and (max-width: 768px) {
  #write {
    max-width: 95%;
    padding-left: 40px;
    padding-right: 40px;
  }
}

@media screen and (max-width: 480px) {
  #write {
    max-width: 100%;
    padding-left: 20px;
    padding-right: 20px;
  }
}

/* 暗色模式覆盖样式 */
::-webkit-scrollbar-thumb {
  background: var(--border-color);
}

.context-menu {
  background-color: #141313;
}

.on-focus-mode .md-end-block:not(.md-focus):not(.md-focus-container) * {
  color: #4f525a !important;
}

mark {
  background: #b8b80a
}

sup.md-footnote {
  background-color: var(--code-bg-color);
  color: var(--font-color);
}

/* right click menu */
.context-menu.dropdown-menu .divider {
  background-color: #232629;
}

/* focus mode */
.on-focus-mode .md-end-block:not(.md-focus) img,
.on-focus-mode .md-task-list-item:not(.md-focus-container)>input {
  opacity: #4f525a !important;
}

.on-focus-mode li[cid]:not(.md-focus-container) {
  color: #4f525a;
}

.on-focus-mode .md-fences.md-focus .CodeMirror-code>*:not(.CodeMirror-activeline) *,
.on-focus-mode .CodeMirror.cm-s-inner:not(.CodeMirror-focused) * {
  color: #4f525a !important;
}

.on-focus-mode .md-focus,
.on-focus-mode .md-focus-container {
  color: var(--light-header-color);
}

.on-focus-mode #typora-source .CodeMirror-code>*:not(.CodeMirror-activeline) * {
  color: #4f525a !important;
}

body,
#write {
  font-family: var(--body-font);
  font-size: var(--chinese-font-size);
}

@media screen and (max-width: 1024px) {
  #write {
    max-width: 90%;
  }
}